# Add Listing Flow - Visual Guide

## ğŸ“± Screen Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Navigation Bar                          â”‚
â”‚                 "Add Listing"                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Progress Indicator (All Steps)               â”‚
â”‚   Step X of 7 â€¢ Progress Bar â€¢ Dot Indicators       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Step Content Area                       â”‚
â”‚          (Scrollable with keyboard aware)            â”‚
â”‚                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚    Step 1: Basic Info                   â”‚       â”‚
â”‚   â”‚    â€¢ Title                               â”‚       â”‚
â”‚   â”‚    â€¢ Destination                         â”‚       â”‚
â”‚   â”‚    â€¢ Short Description                   â”‚       â”‚
â”‚   â”‚    â€¢ Full Description                    â”‚       â”‚
â”‚   â”‚    â€¢ Tags (Add/Remove)                   â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Bottom Navigation (Fixed)                   â”‚
â”‚   [Back] [Save Draft] [Next] or [Publish]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Step Navigation Flow

```
Step 1          Step 2          Step 3          Step 4
Basic Info  â†’   Dates &     â†’   Group       â†’   What's
                Pricing         Details         Included
   â†“               â†“               â†“               â†“
Required        Required        Required        Optional
Fields          Fields          Fields          but validated
   â†“               â†“               â†“               â†“
[Next]          [Next]          [Next]          [Next]
   â†“               â†“               â†“               â†“

Step 5          Step 6          Step 7
Itinerary   â†’   Photos      â†’   Review &
                                Publish
   â†“               â†“               â†“
Optional        Optional        Read-only
but validated   Max 10          Summary
   â†“               â†“               â†“
[Next]          [Next]          [Publish]
                                    â†“
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚ Success!     â”‚
                             â”‚ Reset Form   â”‚
                             â”‚ Go to Home   â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’¾ Save Draft Flow

```
Any Step (1-6)
      â†“
  [Save Draft]
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Validation  â”‚ (Optional fields OK)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Create      â”‚
â”‚ Listing     â”‚
â”‚ status:     â”‚
â”‚ 'draft'     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Show        â”‚
â”‚ Success     â”‚
â”‚ Message     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Reset Form  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ… Validation Flow

```
User clicks [Next]
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Validate        â”‚
â”‚ Current Step    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
   Is Valid?
   /     \
  NO      YES
  â†“        â†“
Show     Go to
Error    Next Step
Alert
  â†“
Stay on
Current
Step
```

## ğŸ¨ UI Component Hierarchy

```
AddScreen (Main Container)
â”‚
â”œâ”€â”€ ProgressIndicator
â”‚   â”œâ”€â”€ Step Text ("Step X of 7")
â”‚   â”œâ”€â”€ Step Title
â”‚   â”œâ”€â”€ Progress Bar (animated)
â”‚   â””â”€â”€ Dot Indicators
â”‚
â”œâ”€â”€ StepContainer (Scrollable + Keyboard Aware)
â”‚   â”‚
â”‚   â””â”€â”€ Current Step Component
â”‚       â”‚
â”‚       â”œâ”€â”€ BasicInfoStep
â”‚       â”‚   â”œâ”€â”€ TextInput fields
â”‚       â”‚   â””â”€â”€ Tag management
â”‚       â”‚
â”‚       â”œâ”€â”€ DatesPricingStep
â”‚       â”‚   â”œâ”€â”€ Date buttons
â”‚       â”‚   â”œâ”€â”€ Currency selector
â”‚       â”‚   â””â”€â”€ Price inputs
â”‚       â”‚
â”‚       â”œâ”€â”€ GroupDetailsStep
â”‚       â”‚   â”œâ”€â”€ Number inputs
â”‚       â”‚   â””â”€â”€ Difficulty selector (radio)
â”‚       â”‚
â”‚       â”œâ”€â”€ WhatsIncludedStep
â”‚       â”‚   â”œâ”€â”€ Dynamic item lists
â”‚       â”‚   â””â”€â”€ Cancellation policy
â”‚       â”‚
â”‚       â”œâ”€â”€ ItineraryStep
â”‚       â”‚   â””â”€â”€ Dynamic day cards
â”‚       â”‚
â”‚       â”œâ”€â”€ PhotosStep
â”‚       â”‚   â”œâ”€â”€ Upload button
â”‚       â”‚   â””â”€â”€ Photo grid with actions
â”‚       â”‚
â”‚       â””â”€â”€ ReviewStep
â”‚           â””â”€â”€ Read-only summary
â”‚
â””â”€â”€ FormNavigation (Fixed Bottom)
    â”œâ”€â”€ Back Button (if not first step)
    â”œâ”€â”€ Save Draft Button (if not last step)
    â””â”€â”€ Next/Publish Button
```

## ğŸ“Š Data Flow

```
User Input
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step Component  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
updateFormData()
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useListingForm  â”‚ (Hook)
â”‚ - formData      â”‚
â”‚ - validation    â”‚
â”‚ - navigation    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
State Updated
    â†“
Re-render UI
    â†“
User sees changes
    â†“
Proceeds to next step
    â†“
Step 7: Review
    â†“
User clicks Publish
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ createListing() â”‚ (API)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Supabase DB     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
Success Response
    â†“
Show success alert
    â†“
Reset form
```

## ğŸ¯ User Journey

### Happy Path
```
1. User taps "Add" tab
   â†“
2. Sees Step 1: Basic Info
   â†“
3. Fills in title, destination, descriptions, tags
   â†“
4. Taps [Next]
   â†“
5. Validation passes â†’ Goes to Step 2
   â†“
6. Selects dates, sets price, chooses currency
   â†“
7. Taps [Next]
   â†“
8. Continues through all steps...
   â†“
9. Reaches Step 7: Review
   â†“
10. Reviews all information
   â†“
11. Taps [Publish Listing]
   â†“
12. Confirmation alert appears
   â†“
13. Confirms â†’ Listing created
   â†“
14. Success alert â†’ Form resets
   â†“
15. Returns to home (or listing detail)
```

### Save Draft Path
```
1-5. Same as happy path
   â†“
6. User needs to leave
   â†“
7. Taps [Save Draft]
   â†“
8. Draft saved to database
   â†“
9. Success message
   â†“
10. Form resets
   â†“
11. Can resume later (future feature)
```

### Validation Error Path
```
1. User on any step
   â†“
2. Skips required fields
   â†“
3. Taps [Next]
   â†“
4. Validation fails
   â†“
5. Error alert shows specific issues
   â†“
6. User taps OK
   â†“
7. Stays on current step
   â†“
8. Fixes issues
   â†“
9. Taps [Next] again
   â†“
10. Validation passes â†’ Proceeds
```

## ğŸ“± Responsive Behavior

### Keyboard Management
```
User taps input field
    â†“
Keyboard appears
    â†“
KeyboardAvoidingView adjusts layout
    â†“
ScrollView scrolls to keep field visible
    â†“
Bottom navigation remains accessible
    â†“
User can still tap [Next] button
```

### Touch Interactions
```
All buttons: 48px minimum height
    â†“
Comfortable thumb reach
    â†“
Bottom navigation in natural thumb zone
    â†“
Large input fields
    â†“
Clear tap targets
```

## ğŸ¨ Visual States

### Button States
```
[Next Button]
- Default: Blue (#3b82f6)
- Disabled: Gray (#d1d5db), opacity 0.6
- Loading: Shows ActivityIndicator
- Pressed: Slightly darker (system default)

[Back Button]
- Default: Light gray (#f3f4f6)
- Pressed: Darker gray

[Save Draft Button]
- Default: White with border
- Pressed: Light gray background
```

### Progress Indicator States
```
Dot States:
â€¢ Completed: Green (#10b981) - circle
â€¢ Active: Blue (#3b82f6) - elongated
â€¢ Upcoming: Gray (#e5e7eb) - circle

Progress Bar:
- Animated width based on step
- Blue fill (#3b82f6)
- Gray background (#e5e7eb)
```

## ğŸ” Security & Privacy

```
User Authentication Check
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Must be logged  â”‚
â”‚ in to save/     â”‚
â”‚ publish         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
Creator ID attached to listing
    â†“
Database RLS policies enforced
    â†“
User can only edit own listings
```

---

This visual guide complements the technical documentation and helps understand the flow at a glance.
